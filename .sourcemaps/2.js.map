{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/models/user.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule, IonicModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { CustomComponentsModule } from './../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n    TranslateModule.forChild(),\n    CustomComponentsModule,\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","\nexport class User {\n    id?: string;\n    name: string;\n    email: string;\n    password: string;\n  }\n  \n  \n\n\n// WEBPACK FOOTER //\n// ./src/models/user.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Loading, LoadingController, ModalController, ToastController } from 'ionic-angular';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { User } from './../../models/user';\nimport { ApiError } from './../../models/ApiError';\nimport { SearchProductPage } from './../search-product/search-product';\nimport { ProductsProvider } from './../../providers/products/products';\nimport { Product } from './../../models/product';\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage implements OnInit{\n  private loader: Loading = null;\n  user: User = new User();\n  products: any = [];\n  productColumn1: Array<any> = [];\n  productColumn2: Array<any> = [];\n  newOnesAfterRefresh: Array<Product> = [];\n  randomStyleColumn1: number;\n  randomStyleColumn2: number;\n  addedOnes: number = null;\n  categories: Array<any> = [\n    {\n      icon: 'ios-home-outline',\n      name: 'House',\n    },\n    {\n      icon: 'ios-car-outline',\n      name: 'Car',\n    },\n    {\n      icon: 'ios-game-controller-b-outline',\n      name: 'Gaming',\n    },\n    {\n      icon: 'bicycle',\n      name: 'Bicycle',\n    },\n    {\n      icon: 'ios-american-football-outline',\n      name: 'Sports',\n    },\n    {\n      icon: 'ios-phone-portrait-outline',\n      name: 'Phones',\n    }\n  ]\n  \n  constructor(public navCtrl: NavController,\n    public navParams: NavParams, \n    public loadingCtrl: LoadingController, \n    private auth: AuthProvider,\n    private modal: ModalController,\n    private productsProvider: ProductsProvider,\n    private _sanitizer: DomSanitizer,\n    private toastCtrl: ToastController) {\n      \n    }\n    \n    ionViewDidLoad() {\n      \n    }\n    \n    \n    ngOnInit(){\n      this.getAllProducts();\n    }\n    \n    getAllProducts(refresher?: any){\n      this.closeOpenedOnes(); // close detail of opened ones\n      \n      this.productsProvider.getAllProducts().subscribe((products: Array<Product>)=>{\n        \n        if (refresher) { // stop refresher after i got resuls, if im doing refresher, only include new ones instead adding them all ???\n          // this.productsProvider.getAllProducts2().subscribe((products: Array<Product>)=>{            \n          this.mergeArraysAndUniquifyThem(products);\n          console.log(1);\n          \n          refresher.complete();\n          // })\n        } else{\n          this.products = products;           \n        }\n        this.populateProductsList(); // split products in 3 columns\n      })\n      \n      // this.populateProductsList(); // split products in 3 columns\n      \n      console.log(this.products);\n      \n    }\n    \n    \n    \n    \n    \n    mergeArraysAndUniquifyThem(newProducts: Array<Product>){\n      let allIncludingNew = this.products.concat(newProducts);\n      let uniqueonesaftermerge = this.getUnique(allIncludingNew,'id');\n      if (uniqueonesaftermerge.length > this.products.length) {                            \n        this.addedOnes = Number(uniqueonesaftermerge.length) - Number(this.products.length)              \n        this.showToast(`${this.addedOnes.toString()} products new`);\n      } else{\n        this.showToast('No new products');\n      }\n      this.products = uniqueonesaftermerge;    \n      this.populateProductsList();\n    }\n    \n    showToast(message: string){\n      \n      this.toastCtrl.create({\n        message: message,\n        duration: 2000,\n        position: 'top',\n      }).present();\n    }\n    \n    \n    getUnique(arr, comp) {\n      const unique = arr\n      .map(e => e[comp])\n      // store the keys of the unique objects\n      .map((e, i, final) => final.indexOf(e) === i && i)\n      // eliminate the dead keys & store unique objects\n      .filter(e => arr[e]).map(e => arr[e]);\n      return unique;\n    }\n    \n    \n    closeOpenedOnes(){\n      this.products.forEach(product => {\n        product.opacity = false;                \n      });\n    }\n    \n    populateProductsList(){  \n      this.productColumn1 = [];\n      this.productColumn2 = [];\n      this.products.forEach((product, i) => {  \n        if (i <= this.products.length / 2) {\n          this.productColumn1.push(product);          \n        } else{\n          this.productColumn2.push(product);\n        }\n      });      \n    }\n    \n    randomStyleHeightDiv(){      \n      return this._sanitizer.bypassSecurityTrustStyle(`height:${Math.floor(Math.random() * 60) + 40}`)\n    }\n    \n    searchingProduct(pattern: string){   \n      // this.modal.create('SearchProductPage').present();\n      this.navCtrl.push('SearchProductPage'); // mediante el push puedo pasar info a otra pagina o si no quiero pasar y pasar usar behaviour subject???\n    }\n    \n    doRefresh(refresher) {\n      this.getAllProducts(refresher);\n    }\n    \n    showSmallDetail(productClicked: Product){\n      return this.products.forEach(product => {\n        if (product.id === productClicked.id) {\n          return this.turnOpacity(product);\n        }\n      });\n    }\n    \n    turnOpacity(product: Product){          \n      if (!product.opacity) {\n        product.opacity = true;\n      } else{\n        product.opacity = false;\n      }\n    }\n    \n    goToProduct(product: Product){    \n      // PONER ESTO CON SUBJECT ASI APRENDO??? AUNQUE SOLO PRA ESTO NO HARIA FALTA\n      console.log(product);\n      this.navCtrl.push('ProductDetailPage', product)\n    }\n    \n    menuClick(event: any){\n      // ESTO PARA QUE???\n      // console.log(event); \n      \n    }\n  }\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}