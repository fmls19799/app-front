{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/models/user.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule, IonicModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { CustomComponentsModule } from './../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n    TranslateModule.forChild(),\n    CustomComponentsModule,\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","\nexport class User {\n    id?: string;\n    name?: string;\n    email: string;\n    password: string;\n    rememberMe?: boolean;\n    image?: File;\n  }\n  \n  \n\n\n// WEBPACK FOOTER //\n// ./src/models/user.ts","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Loading, LoadingController, ModalController, ToastController } from 'ionic-angular';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { User } from './../../models/user';\nimport { SearchProductPage } from './../search-product/search-product';\nimport { ProductsProvider } from './../../providers/products/products';\nimport { Product } from './../../models/product';\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Subscription } from 'rxjs';\nimport { FavoritesProvider } from './../../providers/favorites/favorites';\nimport { WishProduct } from './../../models/wishlist';\n\nexport interface ProductSelected extends Product{\n  selected: boolean;\n}\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage implements OnInit, OnDestroy{\n  private loader: Loading = null;\n  user: User = new User();\n  products: any = [];\n  newOnesAfterRefresh: Array<Product> = [];\n  // productsRemainAllTheTime: Array<Product> = [];\n  rentOrBuyOptions: Array<string> = [];\n  categories: Array<any> = [{icon: 'ios-home-outline',type: 'Real state'},{icon: 'ios-car-outline',type: 'Cars'},{icon: 'ios-game-controller-b-outline',type: 'Gaming'},{icon: 'bicycle',type: 'Cycling'},{icon: 'football-outline',type: 'Sports'},{icon: 'phone-portrait',type: 'Phones'},{icon: 'shirt-outline',type: 'Clothing'},{icon: 'boat-outline',type: 'Boats'}]\n  wishList: Array<WishProduct> = [];\n  subscriptions = new Subscription();\n  pagination: number = 1;\n  \n  rentOrBuyTabSelected: string = '';\n  typeSelected: string = '';\n  lastTabClicked: Object;\n  \n  constructor(public navCtrl: NavController,\n    public navParams: NavParams, \n    public loadingCtrl: LoadingController, \n    private auth: AuthProvider,\n    private modal: ModalController,\n    private productsProvider: ProductsProvider,\n    private _sanitizer: DomSanitizer,\n    private toastCtrl: ToastController,\n    private translate: TranslateService,\n    private favoritesProvider: FavoritesProvider,) {\n      \n    }\n    \n    ngOnInit(){          \n      this.rentOrBuyOptions = ['All', 'Rent', 'Sell', 'Exchange', 'Gift'];      \n      this.getAllProducts();\n      this.getAllFavs();\n      // this.getSuscription();//ESTO??????\n    }\n    \n    // getSuscription(){//ESTO??????\n    //   let subscription = this.productsProvider.allProductsHomeChanges().subscribe((products: Array<Product>)=>{\n    //     this.products = products; // ya que cuando doy al tab va cambiando el  array original, hago que el array completo se mantenga para poder mantener los tabs en el html???        \n    //   })      \n    //   this.subscriptions.add(subscription);\n    // }\n    \n    chooseProduct(category: any){\n      // this.filterByType(category.type)//ESTO??????\n      \n      // SI ES NUEVO O NO ES EL MISMO QUIERO VACIAR EL ARRAY LOCAL ASI ME DA EL TIPO QUE QUIERO\n      if (this.typeSelected === '' || this.typeSelected !== category.type) {\n        this.typeSelected = category.type;\n        this.products = [];\n        this.pagination = 1;\n        this.getAllProducts(null, {'type': category.type}); \n      }    \n      // console.log(111111, this.typeSelected);\n      this.inWhatTabIclickedLast({'type': category.type});\n    }\n    \n    segmentSelected(event: any){   \n      // this.filterByType(event.target.innerHTML) //ESTO??????\n      if (this.rentOrBuyTabSelected === 'All') {\n        // this.pagination = 1;\n        // this.lastTabClicked = undefined; \n        // this.getAllProducts();\n      }\n      if (this.rentOrBuyTabSelected === '' || this.rentOrBuyTabSelected !== event.target.innerHTML) {\n        this.rentOrBuyTabSelected = event.target.innerHTML;\n        this.products = [];\n        this.pagination = 1;\n        this.getAllProducts(null, {'rentOrBuy': event.target.innerHTML}); \n      } \n      // console.log(22222, this.rentOrBuyTabSelected);\n      this.inWhatTabIclickedLast({'rentOrBuy': event.target.innerHTML});\n    }\n    \n    inWhatTabIclickedLast(objectClicked: Object){\n      // REEEMPLAZA EL ULTIMO SITIO DONDE CLIQUEE ASI EL INFINITE PUEDE RECARGAR SOBRE ESO    \n      this.lastTabClicked = objectClicked;\n    }\n    \n    // filterByType(filterByType: string){   //ESTO??????\n    //   this.getSuscription(); // si no pongo esto hace un filtro sobre lo ya filtrado previamente y no existe nada???\n    //   if (filterByType !== 'All') {\n    //     this.products = this.products.filter(product => product.type === filterByType);\n    //   }\n    // }\n    \n    // filterByRentOrBuy(rentOrBuy: string){   //ESTO??????         \n    //   this.getSuscription(); // si no pongo esto hace un filtro sobre lo ya filtrado previamente y no existe nada???\n    //   if (rentOrBuy !== 'All') {\n    //     this.products = this.products.filter(product => product.rentOrBuy === rentOrBuy);\n    //   }\n    // }\n    \n    getAllProducts(refresher?: any, rentOrBuyOrType?: Object | undefined){      \n      this.productsProvider.getAllProducts(this.pagination, rentOrBuyOrType)\n      .subscribe((products: Array<Product>)=>{        \n        if (refresher) { // stop refresher after i got results, if im doing refresher, only include new ones instead adding them all ???\n          refresher.complete();\n        } \n        if (products.length > 0) {\n          products.forEach((product)=>{                        \n            this.products.push(product);\n          })  \n        }\n      })\n    }\n    \n    // ESTO???????\n    // getaAllProducts(refresher?: any){      \n    //   this.productsProvider.getAllProducts().subscribe((products: Array<Product>)=>{        \n    //     if (refresher) { // stop refresher after i got results, if im doing refresher, only include new ones instead adding them all ???\n    //       if (products.length > this.products.length) {\n    //         this.showToast(`${(Number(products.length) - Number(this.products.length)).toString()} products new`);            \n    //       } else{\n    //         this.translator('NO_NEW_PRODUCTS_AFTER_REFRESH');            \n    //       }\n    //       refresher.complete();\n    //     } \n    //   })\n    // }\n    \n    getAllFavs(){\n      this.favoritesProvider.getFavoritesProductsOfUser().subscribe((wishList: Array<WishProduct>)=>{\n        this.wishList = wishList;   \n        this.paintHeartIfLiked();     \n      },\n      (error) =>{\n        console.log(error);\n        // this.translator(error);\n      })\n      \n    }\n    // ESTO???\n    loadData(event: any){\n      setTimeout(()=>{\n        this.pagination++;\n        console.log(777, this.lastTabClicked);\n        \n        this.getAllProducts(null, this.lastTabClicked);\n        event.complete();\n      },500)\n    }\n    // ESTO???\n    \n    paintHeartIfLiked(){\n      \n    }\n    \n    translator(textToTranslate: string){\n      this.translate.get(textToTranslate).subscribe((data: string)=>{        \n        this.showToast(data);\n      })\n    }\n    \n    \n    showToast(message: string){\n      \n      this.toastCtrl.create({\n        message: message,\n        duration: 2000,\n        position: 'top',\n      }).present();\n    }\n    \n    searchingProduct(pattern: string){   \n      // this.modal.create('SearchProductPage').present();\n      this.navCtrl.push('SearchProductPage'); // mediante el push puedo pasar info a otra pagina o si no quiero pasar y pasar usar behaviour subject???\n    }\n    \n    doRefresh(refresher) {\n      this.products = [];\n      this.pagination = 1;\n      this.lastTabClicked = undefined; // necesito no solo pasar a la funcion undefined para que no tenga en cuenta el filtro sino tambien esto, ya que el infinite recuerda la ultima clicada???\n      this.getAllProducts(refresher, undefined);\n    }\n    \n    goToProduct(product: Product){         \n      // PONER ESTO CON SUBJECT ASI APRENDO??? AUNQUE SOLO PRA ESTO NO HARIA FALTA\n      this.navCtrl.push('ProductDetailPage', product)\n    }\n    \n    menuClick(event: any){\n      // ESTO PARA QUE???\n      // console.log(event); \n      \n    }\n    \n    ngOnDestroy(){\n      this.subscriptions.unsubscribe();\n    }\n    \n  }\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}