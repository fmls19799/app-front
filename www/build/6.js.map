{"version":3,"sources":["../../src/pages/product-detail/product-detail.module.ts","../../src/pages/product-detail/product-detail.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProductDetailPage } from './product-detail';\n\n@NgModule({\n  declarations: [\n    ProductDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProductDetailPage),\n  ],\n})\nexport class ProductDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-detail/product-detail.module.ts","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { Product } from './../../models/product';\nimport { ProductsProvider } from './../../providers/products/products';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { User } from './../../models/user';\nimport { TranslateService } from '@ngx-translate/core';\nimport { WishListProvider } from './../../providers/wish-list/wish-list';\nimport { Subscription } from 'rxjs';\n\n@IonicPage()\n@Component({\n  selector: 'page-product-detail',\n  templateUrl: 'product-detail.html',\n})\nexport class ProductDetailPage implements OnInit, OnDestroy{\n  \n  liking: boolean = false;\n  user: User;\n  comingAfterCreateProduct: boolean;\n  productToShow: Product = new Product();\n  subscriptions = new Subscription();\n\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    private productsProvider: ProductsProvider,\n    private auth: AuthProvider,\n    private toastCtrl: ToastController,\n    private translate: TranslateService,\n    private wishListProvider: WishListProvider) {\n    }\n    \n    ngOnInit(){\n      this.liking = false;\n      \n      this.user = this.auth.user;\n      if (this.navParams.data) {\n        this.comingAfterCreateProduct = true;\n      }\n      this.productToShow = this.navParams.data;\n      this.isLiking(); //PARA PINTAR DE UNA MANERA U OTRA HABRA QUE COMPROBAR SI YA SE ESTA LIKE?? DEBE IR DEBAJO PARA TENER EL PRODUCTO QUE LE PASE DESDE HOME???\n      // this.getSuscription();\n    }\n\n    getSuscription(){\n      let subscription = this.productsProvider.productByUserChanges().subscribe((product: Product)=>{\n        this.productToShow = product;  \n  \n      })      \n      this.subscriptions.add(subscription);\n    }\n    \n    isLiking(){\n      this.productsProvider.isLiking(this.productToShow).subscribe((data: any)=>{\n        this.liking = data;\n      },\n      (error)=>{\n        this.translator(error);\n      })\n    }\n    \n    \n    \n    \n    like(){\n      if (this.productToShow.owner.id !== this.user.id) {\n        console.log('no es tu product y si puedes likear');\n        this.liking = !this.liking;\n        this.likeOrUnlike();\n      }\n    }\n    \n    likeOrUnlike(){\n      if (this.liking) {\n        this.productsProvider.likeProduct(this.productToShow).subscribe((data: any)=>{\n          console.log(data);\n          // AUNQUE SI SE CAMBNIE EL ICONO DE FORMA LOCAL DEBO NITIFICAR CAMBIOS PARA QUE EL PRODUCT SE VEA LOS LIKES EN TIEMPO REAL???\n        },\n        (error)=>{\n          this.translator(error);\n        })\n      } else{\n        this.productsProvider.unlikeProduct(this.productToShow).subscribe(()=>{},\n        (error)=>{\n          this.translator(error);\n        })\n      }\n    }\n    \n    translator(message: string){\n      this.translate.get(message).subscribe((data: string)=>{\n        \n        this.showToast(data);\n      })\n    }\n    \n    showToast(data: string){\n      this.toastCtrl.create({\n        message: data,\n        duration: 2000,\n        position: 'top',\n      }).present();      \n    }\n    \n    ngOnDestroy(){\n      this.subscriptions.unsubscribe();\n    }\n  }\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-detail/product-detail.ts"],"sourceRoot":""}